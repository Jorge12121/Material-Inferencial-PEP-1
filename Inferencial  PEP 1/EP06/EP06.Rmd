---
title: "EP07"
author: "Jorge Muñoz"
date: "2025-11-21"
output: html_document
---


```{r, include=TRUE}

library(emmeans)
library(ez)
library(ggpubr)
library(stringr)
library(tidyr)


```
Un equipo de investigadores del área de interacción humano-información está estudiando si el área temática y el nivel de dificultad del problema de información influyen en el tiempo (en segundos) que toma un usuario en formular una consulta de búsqueda para resolver dicho problema. Para ello, han reclutado a un grupo de participantes voluntarios, asignados aleatoriamente a distintos grupos. Cada participante debe resolver tres problemas de información con diferentes niveles de dificultad: baja, media y alta. A su vez, cada grupo debe resolver problemas relacionados a una temática diferente. Los datos recolectados contemplan las siguientes variables:

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(knitr)
library(kableExtra)
tabla <- data.frame(
  Variable = c("id", "area", "dificultad", "tiempo"),
  Descripción = c(
    "Identificador único de cada participante.",
    "Área temática de los problemas que el participante debe responder. Variable categórica con los niveles Arquitectura, Biología, Computación, Economía, Física, Leyes, Literatura, Matemáticas, Música, Pedagogía, Psicología, Química.",
    "Nivel de dificultad del problema resuelto. Variable categórica con los niveles Baja, Media y Alta.",
    "Tiempo, en segundos, que toma al participante formular la consulta."
  )
)

kable(tabla, format = "html", escape = FALSE,
      col.names = c("Variable", "Descripción")) %>%
  kable_styling(full_width = FALSE, bootstrap_options = c("striped", "hover", "condensed")) %>%
  column_spec(1, bold = TRUE, width = "10%") %>%
  column_spec(2, width = "70%")
                                                           
```


En este momento, los investigadores buscan determinar si existen diferencias en el tiempo que tardan los usuarios en formular consultas para problemas con diferente nivel de dificultad en el área de literatura.

Para resolver este problema se tiene que realizar la prueba de ANOVA de una via para pruebas correlacionadas con las siguientes hipotesis a constrastar:

Ho: No existen diferencias en el tiempo que tardan los usuarios en formular consultas para problemas con diferente nivel de dificultad en el area de licenciatura 

Ha: Existen diferencias en el tiempo que tardan los usuarios en formular consultas para problemas con diferente nivel de dificultad en el area de licenciatura.


Para realizar el procedimiento ANOVA es necesario verificar las siguientes condiciones:

  a) La escala de la variable dependiente debe ser de intervalos iguales.
  
  b) Las observaciones deben ser independientes al interior de cada muestra.
  
  c) Se debe suponer razonablemente que la población de origen sigue una distribución normal.
  
  d) Se evalúa la condición de esfericidad, que implica que las varianzas (o desviaciones estándar) de las diferencias entre todos los pares de niveles dentro del factor de medidas repetidas son iguales.
  
  



```{r, include=TRUE}
library(dplyr)
datos<- read.csv("EP06 Datos.csv")

datos_licenciatura <- datos %>% filter(area=="Literatura")


# Verificar normalidad por medio de gráficos Q-Q
g1 <- ggqqplot(datos_licenciatura, x = "tiempo", y = "dificultad",
               color = "dificultad", alpha = 0.7,
               palette = c("steelblue", "steelblue1", "cornflowerblue", "steelblue4"))
g1 <- g1 + facet_wrap(~ dificultad)
g1 <- g1 + rremove("x.ticks") + rremove("x.text")
g1 <- g1 + rremove("y.ticks") + rremove("y.text")
g1 <- g1 + rremove("axis.title")
print(g1)

```



```{r, include=TRUE}
cat("Procedimiento ómnibus\n")
cat("================================\n\n")

# Realizar y mostrar el procedimiento ANOVA para muestras repetidas con aov()
prueba_aov <- aov(tiempo ~ dificultad + Error(id/dificultad), data = datos_licenciatura)
cat("Procedimiento ANOVA para muestras repetidas usando la función aov()\n")
cat("-------------------------------------------------------------------\n")
print(summary(prueba_aov))

# Realizar y mostrar el procedimiento ANOVA para muestras repetidas con ezANOVA()
prueba_ez <- ezANOVA(data = datos_licenciatura, dv = tiempo, wid = id, within = dificultad)
cat("\nProcedimiento ANOVA para muestras repetidas usando la función ezANOVA()\n")
cat("-------------------------------------------------------------------\n")
print(prueba_ez)

``` 